{% extends "base.html" %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5">
            <!-- Login Card -->
            <div class="form-card">
                <div class="text-center mb-5">
                    <h1 class="display-6 fw-bold text-primary mb-3">
                        <i class="fas fa-sign-in-alt me-2"></i>Welcome Back
                    </h1>
                    <p class="text-muted">Sign in to your Your Car! account</p>
                </div>

                <!-- Demo Accounts Info -->
                <div class="alert alert-info border-0 mb-4">
                    <h6 class="alert-heading mb-2"><i class="fas fa-info-circle me-2"></i>Demo Accounts</h6>
                    <div class="row small">
                        <div class="col-12 mb-1">
                            <strong>Admin:</strong> admin / admin123
                        </div>
                        <div class="col-12 mb-1">
                            <strong>Client:</strong> client1 / client123
                        </div>
                        <div class="col-12">
                            <strong>User:</strong> user1 / user123
                        </div>
                    </div>
                </div>

                <form method="POST" action="{{ url_for('login') }}">
                    <!-- Username Field -->
                    <div class="mb-4">
                        <label for="username" class="form-label fw-semibold">
                            <i class="fas fa-user me-2 text-primary"></i>Username
                        </label>
                        <div class="input-group">
                            <span class="input-group-text bg-light border-end-0">
                                <i class="fas fa-user text-muted"></i>
                            </span>
                            <input type="text" class="form-control form-control-lg border-start-0" 
                                   id="username" name="username" 
                                   placeholder="Enter your username" required
                                   style="border-radius: 0 10px 10px 0;">
                        </div>
                    </div>

                    <!-- Password Field -->
                    <div class="mb-4">
                        <label for="password" class="form-label fw-semibold">
                            <i class="fas fa-lock me-2 text-primary"></i>Password
                        </label>
                        <div class="input-group">
                            <span class="input-group-text bg-light border-end-0">
                                <i class="fas fa-key text-muted"></i>
                            </span>
                            <input type="password" class="form-control form-control-lg border-start-0" 
                                   id="password" name="password" 
                                   placeholder="Enter your password" required
                                   style="border-radius: 0 10px 10px 0;">
                            <button type="button" class="btn btn-outline-secondary border-start-0" 
                                    onclick="togglePassword()" style="border-radius: 0 10px 10px 0;">
                                <i class="fas fa-eye" id="passwordToggleIcon"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Remember Me & Forgot Password -->
                    <div class="d-flex justify-content-between align-items-center mb-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="remember" name="remember">
                            <label class="form-check-label text-muted" for="remember">
                                Remember me
                            </label>
                        </div>
                        <a href="#" class="text-decoration-none text-primary fw-semibold">
                            Forgot Password?
                        </a>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" class="btn btn-primary btn-lg w-100 py-3 fw-semibold mb-4">
                        <i class="fas fa-sign-in-alt me-2"></i>Sign In
                    </button>

                    <!-- Divider -->
                    <div class="position-relative text-center mb-4">
                        <hr>
                        <span class="position-absolute top-50 start-50 translate-middle bg-white px-3 text-muted">
                            or
                        </span>
                    </div>

                    <!-- Register Link -->
                    <div class="text-center">
                        <p class="text-muted mb-0">Don't have an account?</p>
                        <a href="{{ url_for('register') }}" class="btn btn-outline-primary btn-lg w-100 mt-3">
                            <i class="fas fa-user-plus me-2"></i>Create New Account
                        </a>
                    </div>
                </form>
            </div>

            <!-- Features Section -->
            <div class="row mt-5 g-3">
                <div class="col-md-4">
                    <div class="text-center">
                        <div class="feature-icon mx-auto mb-3" style="width: 50px; height: 50px;">
                            <i class="fas fa-shield-alt text-white"></i>
                        </div>
                        <h6 class="fw-semibold">Secure</h6>
                        <p class="text-muted small">Your data is protected</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="text-center">
                        <div class="feature-icon mx-auto mb-3" style="width: 50px; height: 50px;">
                            <i class="fas fa-bolt text-white"></i>
                        </div>
                        <h6 class="fw-semibold">Fast</h6>
                        <p class="text-muted small">Quick access to features</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="text-center">
                        <div class="feature-icon mx-auto mb-3" style="width: 50px; height: 50px;">
                            <i class="fas fa-headset text-white"></i>
                        </div>
                        <h6 class="fw-semibold">Support</h6>
                        <p class="text-muted small">24/7 customer help</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function togglePassword() {
    const passwordInput = document.getElementById('password');
    const passwordIcon = document.getElementById('passwordToggleIcon');
    
    if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        passwordIcon.className = 'fas fa-eye-slash';
    } else {
        passwordInput.type = 'password';
        passwordIcon.className = 'fas fa-eye';
    }
}

// Add enter key functionality
document.getElementById('username').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        document.getElementById('password').focus();
    }
});

document.getElementById('password').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        document.querySelector('form').submit();
    }
});

// Auto-focus on username field when page loads
document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('username').focus();
});
</script>

<style>
.form-card {
    background: white;
    border-radius: 20px;
    padding: 40px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.1);
    border: none;
}

.input-group-text {
    border-radius: 10px 0 0 10px !important;
    border-right: none !important;
}

.form-control {
    border-radius: 0 10px 10px 0 !important;
    border-left: none !important;
}

.form-control:focus {
    box-shadow: none;
    border-color: #dee2e6;
}

.btn-outline-secondary {
    border-left: none !important;
}

.feature-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 20px;
}
</style>
{% endblock %}